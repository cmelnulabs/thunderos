
OpenSBI v0.9
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ < | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name             : riscv-virtio,qemu
Platform Features         : timer,mfdeleg
Platform HART Count       : 1
Firmware Base             : 0x80000000
Firmware Size             : 100 KB
Runtime SBI Version       : 0.2

Domain0 Name              : root
Domain0 Boot HART         : 0
Domain0 HARTs             : 0*
Domain0 Region00          : 0x0000000080000000-0x000000008001ffff ()
Domain0 Region01          : 0x0000000000000000-0xffffffffffffffff (R,W,X)
Domain0 Next Address      : 0x0000000080200000
Domain0 Next Arg1         : 0x0000000087000000
Domain0 Next Mode         : S-mode
Domain0 SysReset          : yes

Boot HART ID              : 0
Boot HART Domain          : root
Boot HART ISA             : rv64imafdcsu
Boot HART Features        : scounteren,mcounteren,time
Boot HART PMP Count       : 16
Boot HART PMP Granularity : 4
Boot HART PMP Address Bits: 54
Boot HART MHPM Count      : 0
Boot HART MHPM Count      : 0
Boot HART MIDELEG         : 0x0000000000000222
Boot HART MEDELEG         : 0x000000000000b109

=================================
   ThunderOS - RISC-V AI OS
=================================
Kernel loaded at 0x0x0000000080200000
Initializing...

[OK] UART initialized
[OK] Interrupt subsystem initialized
Trap handler initialized
[OK] Trap handler initialized
[OK] Interrupts enabled
Timer initialized (interval: ” ms)
[OK] Timer interrupts enabled
PMM: Initialized
  Memory start: 0x0000000080222000
  Total pages: 32222
  Page size: 4KB
[OK] Memory management initialized
Initializing virtual memory (Sv39)...
Identity mapping kernel: 0x0x0000000080200000 - 0x0x0000000080222000
Identity mapping all RAM (128MB)
Mapping UART MMIO
Mapping VirtIO MMIO
Mapping CLINT MMIO
Enabling paging...
Paging enabled successfully!
Virtual memory initialized (Sv39 mode)
[OK] Virtual memory initialized
Initializing DMA allocator...
DMA allocator initialized
[OK] DMA allocator initialized

Testing memory allocation:
  Allocating page 1... OK (addr: 0x0x0000000080266000)
  Allocating page 2... OK
  Testing kmalloc(256)... OK
  Freeing page 1... OK
  Freeing kmalloc memory... OK

Memory statistics:
  Total pages: 32222
  Free pages:  32153

========================================
  Memory Management Feature Tests
========================================

Test 1: DMA Allocation
  Allocating 8KB DMA region... PASS
    Virtual:  0x0x0000000080268000
    Physical: 0x0x0000000080268000
    Size:     8192 bytes

Test 2: DMA Memory is Zeroed (DMA_ZERO flag)
  Checking first 256 bytes... PASS

Test 3: Physical Contiguity (2 pages)
  Verifying physical addresses are contiguous... PASS
    Page 1 physical: 0x0x0000000080268000
    Page 2 physical: 0x0x0000000080269000

Test 4: Multiple DMA Regions
  Allocating second 4KB region... PASS
    Virtual:  0x0x000000008026a000
    Physical: 0x0x000000008026a000

Test 5: Virtual-to-Physical Translation
  Testing translate_virt_to_phys()... PASS
    Virtual:  0x0x0000000080268000
    Physical: 0x0x0000000080268000

Test 6: Memory Barriers
  Testing fence instructions (should not crash)... PASS

Test 7: Barrier Helper Functions
  Testing read32/write32 with barriers... PASS

Test 8: DMA Statistics
  Checking allocation stats... PASS
    Regions: 2
    Bytes:   12288

Test 9: DMA Free
  Freeing first region... PASS

Test 10: Free Second Region
  Freeing second region... PASS

========================================
Test Summary:
  Passed: 10 / 10
  Status: ALL TESTS PASSED!
========================================


========================================
       ELF Loader Tests
========================================

[TEST] Load non-existent file
vfs: No root filesystem mounted
vfs: File not found: /nonexistent
  [PASS] Failed as expected

[TEST] Load invalid ELF file
vfs: No root filesystem mounted
vfs: File not found: /test.txt
  [PASS] Failed as expected

========================================
Tests passed: 2, Tests failed: 0
*** ALL TESTS PASSED ***
========================================
[OK] Process management initialized
[OK] Scheduler initialized

=================================
  Starting Interactive Shell
=================================

[TEST] VirtIO Block Device
[OK] VirtIO block device initialized
[TEST] Mounting ext2 filesystem...
[OK] ext2 filesystem mounted successfully!
  Block size: 4096 bytes
  Total blocks: 2560
  Free blocks: 2382
  Inodes: 2560
vfs: Mounted root filesystem (ext2)
[OK] VFS root filesystem mounted


===========================================
  ThunderOS v0.4.0 - Interactive Shell
===========================================

Type 'help' for available commands.

ThunderOS> 
ThunderOS> qemu-system-riscv64: terminating on signal 15 from pid 90668 (timeout)
